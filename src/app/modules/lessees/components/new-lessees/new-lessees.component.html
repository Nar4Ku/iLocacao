<div class="newLessee row">
    <div class="col-12 pt-3">
        <p>Formulário para incrição de novos inquilinos</p>
    </div>

    <form class="newLessee__form col-12" [formGroup]="newLesseeForm" (ngSubmit)="newLesseeFormOnSubmit()">
        <div class="row">
            <div class="newLessee__form_subSection col-md-6 pt-2">
                <h6 class="mb-3">Informações pessoais</h6>
                <div class="form-group">
                    <label for="name">{{ 'Full Name' | translate }}</label>
                    <input type="text" class="form-control" id="name" formControlName="name"
                        [ngClass]="{ 'is-invalid': submitted && f['name']?.errors }"
                        placeholder="{{ 'Full Name' | translate }}">

                    <div *ngIf="f['name'].invalid" class="invalid-feedback">
                        <span>Insira o nome do Inquilino</span>
                    </div>
                </div>

                <div class="form-group">
                    <label for="name">Nome Social *</label>
                    <input type="text" class="form-control" id="socialName" formControlName="socialName"
                        placeholder="Nome social">
                </div>

                <div class="form-group">
                    <label>CPF</label>
                    <input type="text" class="form-control" id="cpf" formControlName="cpf" mask="000.000.000-00"
                        [ngClass]="{ 'is-invalid': submitted && f['cpf']?.errors }" placeholder="CPF">

                    <div *ngIf="f['cpf'].invalid" class="invalid-feedback">
                        <span>CPF Inválido</span>
                    </div>
                </div>

                <div class="form-group">
                    <label for="email">{{ 'Email' | translate }}</label>
                    <input type="email" class="form-control" id="email" formControlName="email"
                        [ngClass]="{ 'is-invalid': submitted && f['email']?.errors }"
                        placeholder="{{ 'Email' | translate }}">

                    <div *ngIf="f['email'].invalid" class="invalid-feedback">
                        <span>Insira um email válido</span>
                    </div>
                </div>
            </div>
            <div formGroupName="addressForm" class=" newLessee__form_subSection col-md-6 pt-2">
                <h6 class="mb-3">Endereço</h6>
                <div class="row">
                    <div class="form-group col-8">
                        <label for="address">Endereço</label>
                        <input type="text" class="form-control" id="address" formControlName="address"
                            [ngClass]="{ 'is-invalid': submitted && addressForm.get('address')?.errors }"
                            placeholder="Endereço">

                        <div *ngIf=" addressForm.get('address')?.invalid" class="invalid-feedback">
                            <span>Insira o endereço do Inquilino</span>
                        </div>
                    </div>
                    <div class="form-group col-4">
                        <label for="number">Numero</label>
                        <input type="text" class="form-control" id="number" formControlName="number"
                            [ngClass]="{ 'is-invalid': submitted && addressForm.get('number')?.errors }"
                            placeholder="Numero" mask="0000000">

                        <div *ngIf="addressForm.get('number')?.invalid" class="invalid-feedback">
                            <span>Insira o número</span>
                        </div>

                    </div>
                    <div class="form-group col-8">
                        <label for="neighborhood">Bairro *</label>
                        <input type="text" class="form-control" id="neighborhood" formControlName="neighborhood"
                            placeholder="Endereço">
                    </div>
                    <div class="form-group col-4">
                        <label for="zipCode">CEP *</label>
                        <input type="text" class="form-control" id="zipCode" formControlName="zipCode"
                            placeholder="CEP" mask="00000-000">
                    </div>
                </div>

                <div class="form-group">
                    <label for="city">Cidade</label>
                    <input type="text" class="form-control" id="city" formControlName="city"
                        [ngClass]="{ 'is-invalid': submitted && addressForm.get('city')?.errors }" placeholder="Cidade">


                    <div *ngIf="addressForm.get('city')?.invalid" class="invalid-feedback">
                        <span>Insira o Cidade</span>
                    </div>
                </div>

                <div class="form-group">
                    <label for="uf">Estado</label>
                    <select class="form-control" id="uf" formControlName="uf"
                        [ngClass]="{ 'is-invalid': submitted && addressForm.get('uf')?.errors }">
                        <option value="" disabled selected>Selecione o Estado</option>
                        <option *ngFor="let estado of estados" [value]="estado.uf">{{ estado.name }}</option>
                    </select>
                    <div *ngIf="addressForm.get('uf')?.invalid" class="invalid-feedback">
                        <span>Selecione o estado</span>
                    </div>
                </div>

            </div>

            <div formArrayName="contacts" class="newLessee__form_subSection col-12 pt-2" >
                <h6 class="mb-3">Contato</h6>

                <div *ngFor="let contact of contactForm.controls; let i=index">
                    <div [formGroupName]="i">
                        <div class="row">
                            <div class="form-group col-4">
                                <input type="text" class="form-control" id="phone{{i}}" formControlName="phone"
                                    [ngClass]="{ 'is-invalid': submitted && contactForm.controls[i].get('phone')?.errors }"
                                    mask="(00) 0000-0000?0" placeholder="Telefone">
                                <div *ngIf="contactForm.controls[i].get('phone')?.invalid" class="invalid-feedback">
                                    <span>Insira o telefone</span>
                                </div>
                            </div>

                            <div class="col-5 px-0 pt-2">
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" formControlName="phoneType"
                                        id="phoneType{{i}}" value="cellphone">
                                    <label class="form-check-label" for="phoneType{{i}}">Celular</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" formControlName="phoneType" id="phoneType{{i}" value="phone">
                                                <label class="form-check-label" for="phoneType{{i}}">Telefone
                                    Fixo</label>
                                </div>
                            </div>
                                <!-- <div class="col-3">
                                    <a class="btn btn-success" (click)="addContact()">
                                        <i class="fas fa-plus-circle"></i></a>

                                    <a class="btn btn-danger" (click)="removeContact()">
                                        <i class="fas fa-minus-circle"></i></a>

                                </div> -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row pt-3 justify-content-end">
            <div class="pr-3">
                <button class="btn btn-primary" type="submit"><i class="fas fa-user-plus"></i>&nbsp;&nbsp;ADICIONAR INQUILINO</button>
            </div>
        </div>
    </form>
</div>